<!DOCTYPE html>
<html>
<head>
	<meta charset="UTF-8"
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <title>Dashboard</title>
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='style.css') }}">
    <script>
        function toggleLog(logId) {
            var logContent = document.getElementById(logId);
            var toggleButton = document.getElementById('toggleButton_' + logId);

            if (logContent.style.display === "none") {
                logContent.style.display = "block";
                toggleButton.innerText = "Collapse";
            } else {
                logContent.style.display = "none";
                toggleButton.innerText = "Expand";
            }
        }
    </script>
</head>
<body>
	<div class="container">
    		<h2>Welcome to the Compunnel</h2>
    		<p>Please find your logs details!</p>
   		<a href="{{ url_for('logout') }}">Logout</a>
    		<h3>S3 Logs</h3>
    		<ul>
        		{% for log in logs %}
            			<li>
					<div>
		                     	   <button id="toggleButton_{{ loop.index }}" onclick="toggleLog('logContent_{{ loop.index }}')">Expand</button>
                		       	   <span>{{ log[:50] }}...</span>
                    			</div>
                   			<div id="logContent_{{ loop.index }}" style="display: none;">
					{{ log }}
					<a href="{{ url_for('download_log', filename=log) }}" download>Download</a>	
					</div>
				</li>
        		{% endfor %}
    		</ul>
	</div>
</body>
</html>

